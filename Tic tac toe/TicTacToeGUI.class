import java.awt.GridLayout;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JOptionPane;
import javax.swing.JPanel;

public class TicTacToeGUI extends JFrame {
   private static final int BOARD_SIZE = 3;
   private JPanel boardPanel = new JPanel();
   private JButton[][] buttons;
   private String currentPlayer = "X";

   public TicTacToeGUI() {
      this.boardPanel.setLayout(new GridLayout(3, 3));
      this.buttons = new JButton[3][3];

      for(int row = 0; row < 3; ++row) {
         for(int col = 0; col < 3; ++col) {
            JButton button = new JButton();
            button.addActionListener((e) -> {
               JButton clickedButton = (JButton)e.getSource();
               clickedButton.setText(this.currentPlayer);
               clickedButton.setEnabled(false);
               if (this.checkForWin(this.currentPlayer)) {
                  JOptionPane.showMessageDialog(this, "Player " + this.currentPlayer + " wins!");
                  JButton[][] var3 = this.buttons;
                  int var4 = var3.length;

                  for(int var5 = 0; var5 < var4; ++var5) {
                     JButton[] buttonRow = var3[var5];
                     JButton[] var7 = buttonRow;
                     int var8 = buttonRow.length;

                     for(int var9 = 0; var9 < var8; ++var9) {
                        JButton b = var7[var9];
                        b.setEnabled(false);
                     }
                  }
               } else {
                  this.currentPlayer = this.currentPlayer.equals("X") ? "O" : "X";
               }

            });
            this.buttons[row][col] = button;
            this.boardPanel.add(button);
         }
      }

      this.getContentPane().add(this.boardPanel);
   }

   private boolean checkForWin(String player) {
      int col;
      for(col = 0; col < 3; ++col) {
         if (this.buttons[col][0].getText().equals(player) && this.buttons[col][1].getText().equals(player) && this.buttons[col][2].getText().equals(player)) {
            return true;
         }
      }

      for(col = 0; col < 3; ++col) {
         if (this.buttons[0][col].getText().equals(player) && this.buttons[1][col].getText().equals(player) && this.buttons[2][col].getText().equals(player)) {
            return true;
         }
      }

      if (this.buttons[0][0].getText().equals(player) && this.buttons[1][1].getText().equals(player) && this.buttons[2][2].getText().equals(player)) {
         return true;
      } else if (this.buttons[0][2].getText().equals(player) && this.buttons[1][1].getText().equals(player) && this.buttons[2][0].getText().equals(player)) {
         return true;
      } else {
         return false;
      }
   }
}
